<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Design Token Manager</title>
    <script type="module" src="/src/main.ts"></script>
  </head>
  <body data-theme="light">

    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <!--  APP SHELL                                                          -->
    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <div class="app-container">

      <!-- ─── LEFT SIDEBAR ─────────────────────────────────────────────── -->
      <aside class="sidebar" id="sidebar">

        <!-- Sidebar header -->
        <div class="sidebar-header">
          <div class="sidebar-title-group">
            <span class="body-s sidebar-label">Sets</span>
            <span class="body-s sidebar-count" id="sidebar-sets-count">0</span>
          </div>
          <div class="sidebar-actions">
            <button class="icon-btn" id="sidebar-search-btn" title="Search sets">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                <circle cx="7" cy="7" r="4.5" stroke="currentColor" stroke-width="1.5"/>
                <path d="m10.5 10.5 2.5 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </button>
            <button class="icon-btn" id="sidebar-new-set-btn" title="New set">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- Sidebar search box (toggleable) -->
        <div class="sidebar-search-box hidden" id="sidebar-search-box">
          <input type="text" class="input" id="sidebar-search-input"
                 placeholder="Search sets…" autocomplete="off" />
        </div>

        <!-- Sets list -->
        <ul class="sets-list" id="sidebar-sets-list" role="listbox" aria-label="Token sets">
          <li class="sets-empty-state body-s">No sets yet</li>
        </ul>

        <!-- Themes section (bottom of sidebar) -->
        <div class="themes-section">
          <div class="themes-header">
            <div class="themes-title-group">
              <span class="body-s sidebar-label">Themes</span>
              <span class="body-s sidebar-count" id="sidebar-themes-count">0</span>
            </div>
            <button class="icon-btn" title="Theme settings" id="themes-settings-btn">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                <path d="M14.33 6.54A6.5 6.5 0 0 1 14.33 9.46L12.62 9.91 13.51 11.45A6.5 6.5 0 0 1 11.45 13.51L9.91 12.62 9.46 14.33A6.5 6.5 0 0 1 6.54 14.33L6.09 12.62 4.55 13.51A6.5 6.5 0 0 1 2.49 11.45L3.38 9.91 1.67 9.46A6.5 6.5 0 0 1 1.67 6.54L3.38 6.09 2.49 4.55A6.5 6.5 0 0 1 4.55 2.49L6.09 3.38 6.54 1.67A6.5 6.5 0 0 1 9.46 1.67L9.91 3.38 11.45 2.49A6.5 6.5 0 0 1 13.51 4.55L12.62 6.09Z"
                      stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/>
                <circle cx="8" cy="8" r="2" stroke="currentColor" stroke-width="1.3"/>
              </svg>
            </button>
          </div>
          <p class="body-s themes-description" id="themes-description">
            Set up Themes to view tokens in different modes
          </p>
          <ul class="themes-list hidden" id="themes-list"></ul>
        </div>
      </aside>

      <!-- ─── MAIN CONTENT ──────────────────────────────────────────────── -->
      <main class="main-content" id="main-content">

        <!-- ── VIEW: SETS OVERVIEW (no set selected) ──────────────────── -->
        <div class="view" id="view-sets-overview">

          <!-- Header -->
          <div class="main-header">
            <div class="main-header-left">
              <button class="icon-btn" id="toggle-sidebar-overview" title="Toggle sidebar">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <rect x="1.75" y="2.75" width="12.5" height="10.5" rx="1.5"
                        stroke="currentColor" stroke-width="1.3"/>
                  <path d="M5.75 2.75v10.5" stroke="currentColor" stroke-width="1.3"/>
                </svg>
              </button>
              <h1 class="body-m header-title">Tokens</h1>
            </div>
            <div class="main-header-right">
              <div class="search-wrapper">
                <svg class="search-icon" width="13" height="13" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <circle cx="7" cy="7" r="4.5" stroke="currentColor" stroke-width="1.5"/>
                  <path d="m10.5 10.5 2.5 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <input type="text" class="input search-input" id="overview-search-input"
                       placeholder="Search for token sets" autocomplete="off" />
              </div>
<!--               <button class="icon-btn" title="Upload sets" id="upload-sets-btn">
                <svg width="15" height="15" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <path d="M8 10.5V3.5M5.5 6 8 3.5 10.5 6" stroke="currentColor"
                        stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3 11.5v1.5h10v-1.5" stroke="currentColor"
                        stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
              <button class="icon-btn" title="Download sets" id="download-sets-btn">
                <svg width="15" height="15" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <path d="M8 3.5v7M5.5 8l2.5 2.5L10.5 8" stroke="currentColor"
                        stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3 11.5v1.5h10v-1.5" stroke="currentColor"
                        stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button> -->
              <button id="main-new-set-btn" type="button" data-appearance="primary">+ New set</button>
            </div>
          </div>

          <!-- Sets overview list -->
          <div class="sets-overview-list" id="sets-overview-list">
            <p class="empty-state-msg body-s">No token sets yet. Click "+ New set" to create one.</p>
          </div>
        </div>

        <!-- ── VIEW: TOKEN TABLE (set selected) ───────────────────────── -->
        <div class="view hidden" id="view-tokens">

          <!-- Header -->
          <div class="main-header">
            <div class="main-header-left">
              <button class="icon-btn" id="toggle-sidebar-tokens" title="Toggle sidebar">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <rect x="1.75" y="2.75" width="12.5" height="10.5" rx="1.5"
                        stroke="currentColor" stroke-width="1.3"/>
                  <path d="M5.75 2.75v10.5" stroke="currentColor" stroke-width="1.3"/>
                </svg>
              </button>
              <span class="body-s breadcrumb-prefix">Tokens /</span>
              <span class="body-s breadcrumb-set" id="breadcrumb-set-name">global</span>
              <button class="icon-btn" id="set-more-btn" title="More options">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <circle cx="3.5" cy="8" r="1.2" fill="currentColor"/>
                  <circle cx="8" cy="8" r="1.2" fill="currentColor"/>
                  <circle cx="12.5" cy="8" r="1.2" fill="currentColor"/>
                </svg>
              </button>
            </div>
            <div class="main-header-right">
              <div class="search-wrapper">
                <svg class="search-icon" width="13" height="13" viewBox="0 0 16 16" fill="none" aria-hidden="true">
                  <circle cx="7" cy="7" r="4.5" stroke="currentColor" stroke-width="1.5"/>
                  <path d="m10.5 10.5 2.5 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <input type="text" class="input search-input" id="tokens-search-input"
                       placeholder="Search for tokens" autocomplete="off" />
              </div>
              <button id="new-token-btn" type="button" data-appearance="primary">+ New token</button>
            </div>
          </div>

          <!-- Token table -->
          <div class="tokens-table-wrap">
            <!-- Table header -->
            <div class="tokens-table-header" role="row">
              <div class="tcol-check" data-col="0" role="columnheader">
                <input type="checkbox" class="checkbox-input" id="select-all-tokens"
                       aria-label="Select all tokens" />
              </div>
              <div class="tcol-name body-s th-cell th-sortable" data-col="1"
                   data-sort-key="name" role="columnheader" aria-sort="none" title="Sort by name">
                <span class="th-label">Name</span>
                <span class="sort-icon" aria-hidden="true">
                  <svg width="10" height="7" viewBox="0 0 10 7" fill="none">
                    <path d="M1 1.5 5 5.5 9 1.5" stroke="currentColor" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <div class="col-resize-handle" data-col="1" aria-hidden="true"></div>
              </div>
              <div class="tcol-value body-s th-cell th-sortable" data-col="2"
                   data-sort-key="value" role="columnheader" aria-sort="none" title="Sort by value">
                <span class="th-label">Value</span>
                <span class="sort-icon" aria-hidden="true">
                  <svg width="10" height="7" viewBox="0 0 10 7" fill="none">
                    <path d="M1 1.5 5 5.5 9 1.5" stroke="currentColor" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <div class="col-resize-handle" data-col="2" aria-hidden="true"></div>
              </div>
              <div class="tcol-resolved body-s th-cell th-sortable" data-col="3"
                   data-sort-key="resolvedValue" role="columnheader" aria-sort="none" title="Sort by resolved value">
                <span class="th-label">Resolved value</span>
                <span class="sort-icon" aria-hidden="true">
                  <svg width="10" height="7" viewBox="0 0 10 7" fill="none">
                    <path d="M1 1.5 5 5.5 9 1.5" stroke="currentColor" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <div class="col-resize-handle" data-col="3" aria-hidden="true"></div>
              </div>
              <div class="tcol-type body-s th-cell th-sortable" data-col="4"
                   data-sort-key="type" role="columnheader" aria-sort="none" title="Sort by type">
                <span class="th-label">Type</span>
                <span class="sort-icon" aria-hidden="true">
                  <svg width="10" height="7" viewBox="0 0 10 7" fill="none">
                    <path d="M1 1.5 5 5.5 9 1.5" stroke="currentColor" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <div class="col-resize-handle" data-col="4" aria-hidden="true"></div>
              </div>
              <div class="tcol-actions" data-col="5" role="columnheader"></div>
            </div>
            <!-- Bulk action bar (visible when ≥1 token is selected) -->
            <div class="bulk-bar hidden" id="bulk-bar" role="toolbar" aria-label="Bulk token actions">
              <span class="body-s bulk-bar-label" id="bulk-bar-label">0 selected</span>
              <div class="bulk-bar-actions" id="bulk-bar-actions"></div>
            </div>

            <!-- Table body (filled by JS) -->
            <div id="tokens-table-body" class="tokens-table-body" role="rowgroup">
              <div class="empty-state-msg body-s">Select a set to view its tokens.</div>
            </div>
          </div>
        </div>

      </main>
    </div>

    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <!--  MODAL OVERLAY                                                      -->
    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <div class="modal-overlay hidden" id="modal-overlay" role="dialog" aria-modal="true">
      <div class="modal" id="modal-container"></div>
    </div>

    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <!--  CONTEXT MENU (positioned by JS)                                    -->
    <!-- ═══════════════════════════════════════════════════════════════════ -->
    <div class="context-menu hidden" id="context-menu" role="menu"></div>

  </body>
</html>
